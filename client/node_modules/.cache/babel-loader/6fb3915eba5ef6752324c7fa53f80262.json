{"ast":null,"code":"import axios from 'axios';\nimport { GET_PROFILE, GET_PROFILES, PROFILE_LOADING, CLEAR_CURRENT_PROFILE, GET_ERRORS, SET_CURRENT_USER } from './types';\nexport var getCurrentProfile = function getCurrentProfile() {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get('/api/profile').then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: {}\n      });\n    });\n  };\n};\nexport var getProfileByHandle = function getProfileByHandle(handle) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get(\"/api/profile/handle/\".concat(handle)).then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: null\n      });\n    });\n  };\n};\nexport var createProfile = function createProfile(profileData, history) {\n  return function (dispatch) {\n    axios.post('/api/profile', profileData).then(function (res) {\n      return history.push('/dashboard');\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\nexport var addDetection = function addDetection(detData, history) {\n  return function (dispatch) {\n    axios.post('/api/profile/detection', detData).then(function (res) {\n      return history.push('/dashboard');\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\nexport var addStaff = function addStaff(staData, history) {\n  return function (dispatch) {\n    axios.post('/api/profile/staff', staData).then(function (res) {\n      return history.push('/dashboard');\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\nexport var deleteDetection = function deleteDetection(id) {\n  return function (dispatch) {\n    axios.delete(\"/api/profile/detection/\".concat(id)).then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\nexport var deleteStaff = function deleteStaff(id) {\n  return function (dispatch) {\n    axios.delete(\"/api/profile/staff/\".concat(id)).then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\nexport var getProfiles = function getProfiles() {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get('/api/profile/all').then(function (res) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n};\nexport var deleteAccount = function deleteAccount() {\n  return function (dispatch) {\n    if (window.confirm('Voulez-vous supprimer votre compte ?')) {\n      axios.delete('/api/profile').then(function (res) {\n        return dispatch({\n          type: SET_CURRENT_USER,\n          payload: {}\n        });\n      }).catch(function (err) {\n        return dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data\n        });\n      });\n    }\n  };\n};\nexport var setProfileLoading = function setProfileLoading() {\n  return {\n    type: PROFILE_LOADING\n  };\n};\nexport var clearCurrentProfile = function clearCurrentProfile() {\n  return {\n    type: CLEAR_CURRENT_PROFILE\n  };\n};","map":{"version":3,"sources":["/Users/kapongoarnaud/Desktop/devoir/TheDraft/client/src/actions/profileActions.js"],"names":["axios","GET_PROFILE","GET_PROFILES","PROFILE_LOADING","CLEAR_CURRENT_PROFILE","GET_ERRORS","SET_CURRENT_USER","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","catch","err","getProfileByHandle","handle","createProfile","profileData","history","post","push","response","addDetection","detData","addStaff","staData","deleteDetection","id","delete","deleteStaff","getProfiles","deleteAccount","window","confirm","clearCurrentProfile"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nimport {\n  GET_PROFILE,\n  GET_PROFILES,\n  PROFILE_LOADING,\n  CLEAR_CURRENT_PROFILE,\n  GET_ERRORS,\n  SET_CURRENT_USER\n} from './types';\n\nexport const getCurrentProfile = () => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n  .get('/api/profile')\n  .then(res => dispatch({\n    type: GET_PROFILE,\n    payload: res.data\n    })\n  ).catch(err =>\n    dispatch({\n    type: GET_PROFILE,\n    payload: {}\n    })\n  );\n};\n\nexport const getProfileByHandle = handle => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n  .get(`/api/profile/handle/${handle}`)\n  .then(res =>\n  dispatch({\n    type: GET_PROFILE,\n    payload: res.data\n    })\n  ).catch(err => dispatch({\n    type: GET_PROFILE,\n    payload: null\n  })\n  );\n};\n\nexport const createProfile = (profileData, history) => dispatch => {\n  axios\n  .post('/api/profile', profileData)\n  .then(res => history.push('/dashboard'))\n  .catch(err =>\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    })\n  );\n};\n\nexport const addDetection = (detData, history) => dispatch => {\n  axios\n    .post('/api/profile/detection', detData)\n    .then(res => history.push('/dashboard'))\n    .catch(err =>\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    })\n  );\n};\n\nexport const addStaff = (staData, history) => dispatch => {\n  axios\n    .post('/api/profile/staff', staData)\n    .then(res => history.push('/dashboard'))\n    .catch(err =>\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    })\n  );\n};\n\nexport const deleteDetection = id => dispatch => {\n  axios\n    .delete(`/api/profile/detection/${id}`)\n    .then(res =>\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    })\n  ).catch(err =>\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    })\n  );\n};\n\nexport const deleteStaff = id => dispatch => {\n  axios\n    .delete(`/api/profile/staff/${id}`)\n    .then(res =>\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    })\n  ).catch(err =>\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    })\n  );\n};\n\nexport const getProfiles = () => dispatch => {\n  dispatch(setProfileLoading());\n  axios\n  .get('/api/profile/all')\n  .then(res =>\n  dispatch({\n    type: GET_PROFILES,\n    payload: res.data\n    })\n  ).catch(err => dispatch({\n    type: GET_PROFILES,\n    payload: null\n  })\n);\n};\n\nexport const deleteAccount = () => dispatch => {\n  if(window.confirm('Voulez-vous supprimer votre compte ?')){\n    axios\n      .delete('/api/profile')\n      .then(res =>\n      dispatch({\n        type: SET_CURRENT_USER,\n        payload: {}\n      })\n    ).catch(err => dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    })\n    );\n  }\n};\nexport const setProfileLoading = () => {\n  return {\n      type: PROFILE_LOADING\n  };\n};\n\nexport const clearCurrentProfile = () => {\n  return {\n      type: CLEAR_CURRENT_PROFILE\n  };\n};\n"]},"metadata":{},"sourceType":"module"}